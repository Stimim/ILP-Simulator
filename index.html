<!DOCTYPE html>
<html lang="zh-TW">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>投資型保單甲型蒙地卡羅模擬</title>
    <!-- <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script> -->
    <script src="https://cdn.plot.ly/plotly-3.0.0.min.js"></script>
    <script src="script.js" defer></script>
    <style>
        div.section {
            border-style: solid;
            border-width: 1px;
            border-color: black;
            margin-top: 5px;
            margin-bottom: 5px;
            padding-top: 2px;
            padding-bottom: 2px;
        }
        dt {
            font-weight: bold;
        }
        dd {
            font-size: 0.8rem;
            margin-bottom: 0.5em;
        }
    </style>
</head>

<body>
    <h1>投資型保單甲型 - 蒙地卡羅模擬</h1>
    <form id="simForm">
        <div class="section">
            <label>性別：
                <select id="sex">
                    <option value="0">男性</option>
                    <option value="1">女性</option>
                </select>
            </label><br />
            <label>初始投資額度（元）：<input type="number" id="initialInvestment" value="0"></label><br />
            <label>投保額度（元）：<input type="number" id="insuranceAmount" value="20000000"></label><br />
            <label>每年保費（元）：<input type="number" id="annualPremium" value="240000"></label><br />
            <label>開始年齡：<input type="number" id="ageStart" value="35" min="0" max="110"></label><br />
            <label>結束年齡：<input type="number" id="ageEnd" value="100" min="0" max="110"></label><br />
            <label>投資幾年：<input type="number" id="investmentYears" value="20" min="0" max="110"></label><br />
        </div>
        <div class="section">
            <label>投資年化報酬率（%）：<input type="number" id="meanReturn" value="6" step="0.01"></label><br />
            <label>投資年化標準差（%）：<input type="number" id="stdDev" value="18" step="0.01"></label><br />
        </div>
        <div class="section">
            <label>保單管理費（元/年）：<input type="number" id="policyFee" value="1200"></label><br />
            <label>費用率（%/年）：<input type="number" id="expenseRatio" value="1" min="0" max="100" step="0.01"></label><br />
            <div>前五年保險費用</div>
            <label>第一年（%）：<input type="number" name="premiumFeeRates[]" value="57" min="0" max="100" step="0.01"></label>
            <label>第二年（%）：<input type="number" name="premiumFeeRates[]" value="32" min="0" max="100" step="0.01"></label>
            <label>第三年（%）：<input type="number" name="premiumFeeRates[]" value="22" min="0" max="100" step="0.01"></label>
            <label>第四年（%）：<input type="number" name="premiumFeeRates[]" value="12" min="0" max="100" step="0.01"></label>
            <label>第五年（%）：<input type="number" name="premiumFeeRates[]" value="12" min="0" max="100" step="0.01"></label>
        </div>
        <button type="submit">開始模擬</button>
    </form>

    <div id="chart"></div>

    <div id="notes">
        <h2>備註</h2>
        費用的細節需閱讀保單條款，每個保險商品都略有不同。
        <dl>
            <dt>初始投資額度</dt>
            <dd>
                如果在第一期有繳交額外的保費，要注意是否會被收取超額保費費用。
                請在模擬器中輸入<b>實際入帳的金額</b>。
            </dd>
            <dt>費用率</dt>
            <dd>
                保險公司會定期根據保單帳戶價值的多寡收取費用。
                有時會根據投資標的的不同收取不同的費用。
                這裡簡化為單一費率。
            </dd>
            <dt>淨危險保額</dt>
            <dd>
                <i>max(0, 投保額度 - 保單帳戶價值)</i>
            </dd>
            <dt>保險成本</dt>
            <dd>
                <i>淨危險保額 * 自然費率</i> <br />
                自然費率根據性別、扣款當時的年齡決定，隨年紀上升而上升、且男生比女生高。
            </dd>
            <dt>投資年化報酬率</dt>
            <dd>
                要注意年化報酬中有多少比例來自<b>配息</b>，
                以及保單條款中對股息再投入的相關規定。
                有些保單如果股息要再投入，會被視為超額保費而產生額外的手續費。
                另外，配息需要繳<b>綜合所得稅</b>和<b>二代健保補充保費</b>。
            </dd>
        </dl>
        <a href="https://github.com/Stimim/ILP-Simulator">GitHub</a>
    </div>
</body>

</html>
